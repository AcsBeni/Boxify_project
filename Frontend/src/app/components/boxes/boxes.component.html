<p-card class="boxes-card">

  <!-- ===== HEADER ===== -->
  <div class="boxes-header">
    <div class="boxes-title">
      <h3>Boxes</h3>
      <span class="muted">Összesen {{ filteredBoxes.length }} doboz</span>
    </div>

    <div class="boxes-actions">
      <span class="p-input-icon-left search">
        <i class="pi pi-search"></i>
        <input
          pInputText
          placeholder="Keresés kód vagy hely szerint"
          [(ngModel)]="searchTerm" />
      </span>

      <p-button
        label="Új doboz"
        icon="pi pi-plus"
        class="add-btn"
        routerLink="/boxes/new" />
    </div>
  </div>

  <!-- ===== TABLE ===== -->
  <p-table
    [value]="filteredBoxes"
    dataKey="id"
    selectionMode="single"
    (onRowSelect)="openBox($event.data)"
    responsiveLayout="scroll"
    styleClass="boxes-table">

    <ng-template pTemplate="header">
      <tr>
        <th>Kód</th>
        <th>Címke</th>
        <th>Méret (cm)</th>
        <th>Max súly</th>
        <th>Státusz</th>
        <th>Hely</th>
        <th class="actions-col">Műveletek</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-box>
      <tr>
        <td class="code">{{ box.code }}</td>
        <td>{{ box.labelType }}</td>
        <td class="muted">
          {{ box.lengthCm }} × {{ box.widthCm }} × {{ box.heightCm }}
        </td>
        <td>{{ box.maxWeightKg }} kg</td>

        <td>
          <span class="status" [ngClass]="box.status.toLowerCase()">
            {{ box.status }}
          </span>
        </td>

        <td>{{ box.location || '—' }}</td>

        <td class="actions">
          <p-button
            icon="pi pi-pencil"
            class="edit-btn"
            rounded
            routerLink="/boxes/{{ box.id }}"
            
             />

          <p-button
            icon="pi pi-trash"
            class="delete-btn"
            rounded
            severity="danger"
            (onClick)="delete(box.id)" />
        </td>
      </tr>
    </ng-template>

  </p-table>
</p-card>